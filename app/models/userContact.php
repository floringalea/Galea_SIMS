<?php

class UserContact
{
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
    protected $mailId, $address, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;
>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
    protected $mailId, $address, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;
>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    protected $mailId, $address, $addrType, $homePhoneId, $homePhone, $mobPhoneId, $mobPhone;

    function __construct() {}
>>>>>>> parent of d0c237b... Created 'FormGroup' class

    function getMailId()
    {
        return $this->mailId;
    }
    function getEmailAddress()
    {
        return $this->address;
    }
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
=======
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
	function getAddrType()
    {
        return $this->addrType;
    }
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
    function getHomePhoneId()
    {
        return $this->homePhoneId;
    }
    function getHomePhone()
    {
        return $this->homePhone;
    }
    function getMobPhoneId()
    {
        return $this->mobPhoneId;
    }
    function getMobPhone()
    {
        return $this->mobPhone;
    }

    function setMailId($mailId)
    {
        $this->mailId = $mailId;
    }
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
    function setEmailAddress($address)
=======
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
    function setAddrType($addrType)
    {
        $this->addrType = $addrType;
    }
	function setEmailAddress($address)
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    function setEmailAddress($address)
>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
    function setEmailAddress($address)
>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
    {
        $this->address = $address;
    }
    function setHomePhoneId($homePhoneId)
    {
        $this->homePhoneId = $homePhoneId;
    }
    function setHomePhone($homePhone)
    {
        $this->homePhone = $homePhone;
    }
    function setMobPhoneId($mobPhoneId)
    {
        $this->mobPhoneId = $mobPhoneId;
    }
    function setMobPhone($mobPhone)
    {
        $this->mobPhone = $mobPhone;
    }

<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
    function __construct() {}

=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
    function __construct() {}

>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
    function __construct() {}

>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
    function addContToDB()
    {
        require '../app/config.php';
        // Add email, home tel and mobile tel numbers to DB
        
        // Check to see if address already exists
        $emailDuplQuery = $conn->prepare("SELECT * from Emails WHERE Address = ? AND Type = ?");
        $hPhoneDuplQuery = $conn->prepare("SELECT * from Phones WHERE PhoneType = ? AND PhoneNo = ?");
        $mPhoneDuplQuery = $conn->prepare("SELECT * from Phones WHERE PhoneType = ? AND PhoneNo = ?");

        $tAddress = $this->getEmailAddress();
        $tAddrType = 'personal';
        $emailDuplQuery->bind_param("ss", $tAddress, $tAddrType);

        $tHomePhone = $this->getHomePhone();
        $tHPhoneType = 'Home';
        $hPhoneDuplQuery->bind_param("si", $tHPhoneType, $tHomePhone);

        $tMobPhone = $this->getMobPhone();
        $tMPhoneType = 'Mobile';
        $mPhoneDuplQuery->bind_param("si", $tMPhoneType, $tMobPhone);

        $emailDuplQuery->execute();
        $hPhoneDuplQuery->execute();
        $mPhoneDuplQuery->execute();

        $emailDuplQuery->store_result();
        $hPhoneDuplQuery->store_result();
        $mPhoneDuplQuery->store_result();

        if ($emailDuplQuery->num_rows === 0 && $hPhoneDuplQuery->num_rows === 0 && $mPhoneDuplQuery->num_rows === 0)
        {   
            // No duplicates found, so bind the properties to the query and fire away
            $emailQuery = $conn->prepare("INSERT INTO Emails (Address, Type) VALUES (?, ?)");
            $emailQuery->bind_param("ss", $tAddress, $tAddrType);
            $emailQuery->execute();
            // Store the Address Id from the record that has just been inserted into the address object
            $result = mysqli_query($conn, "SELECT LAST_INSERT_ID()");
            while ($myrow = $result->fetch_array(MYSQLI_ASSOC))
            {
                $this->setMailId(intval($myrow["LAST_INSERT_ID()"]));
            }

            $hPhoneQuery = $conn->prepare("INSERT INTO Phones (PhoneType, PhoneNo) VALUES (?, ?)");
            $hPhoneQuery->bind_param("si", $tHPhoneType, $tHomePhone);
            $hPhoneQuery->execute();
            // Store the Home Phone Id from the record that has just been inserted into the UserContact object
            $result = mysqli_query($conn, "SELECT LAST_INSERT_ID()");
            while ($myrow = $result->fetch_array(MYSQLI_ASSOC))
            {
                $this->setHomePhoneId(intval($myrow["LAST_INSERT_ID()"]));
            }

            $mPhoneQuery = $conn->prepare("INSERT INTO Phones (PhoneType, PhoneNo) VALUES (?, ?)");
            $mPhoneQuery->bind_param("si", $tMPhoneType, $tMobPhone);
            $mPhoneQuery->execute();
            // Store the Mobile Phone ID from the record that has just been inserted into the UserContact object
            $result = mysqli_query($conn, "SELECT LAST_INSERT_ID()");
            while ($myrow = $result->fetch_array(MYSQLI_ASSOC))
            {
                $this->setMobPhoneId(intval($myrow["LAST_INSERT_ID()"]));
            }
        }
        else
        {   
            die('Error: addContToDB : Address already exists.');
        }
    }
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
=======
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class

    function getuserContFromDb($userId)
    {
        require '../app/config.php';
        // Email
        // Find user's email in DB
        $query = mysqli_query($conn, 'SELECT MailId from UserEmails WHERE UserId = '.$userId);
        $qResult = mysqli_fetch_row($query);
        $emailId = $qResult['0'];
        $secQuery = mysqli_query($conn, "SELECT Address, Type FROM Emails WHERE MailId = ".$emailId);
        $secQueryResult = mysqli_fetch_row($secQuery);
        $this->setEmailAddress($secQueryResult['0']);
		$this->setAddrType($secQueryResult['1']);
        
        // Telephones
        $telephones = [];
        // Find user's telephone numbers in DB
        $query = mysqli_query($conn, 'SELECT PhoneId from UserPhones WHERE UserId = '.$userId);
        $i = 0;
        $queryArray = [];
        while($qResult = mysqli_fetch_row($query))
        {
            $queryArray[$i] = $qResult['0'];
            $i++;
        }
        foreach($queryArray as $telId)
        {
            $secQuery = mysqli_query($conn, "SELECT PhoneType, PhoneNo FROM Phones WHERE PhoneId = ".$telId);
            $secQueryResult = mysqli_fetch_row($secQuery);
            $telephones[$secQueryResult['0']] = $secQueryResult['1'];
        }
        $this->setHomePhone($telephones['Home']);
        $this->setMobPhone($telephones['Mobile']);
    }
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
>>>>>>> parent of 8caa1da... Added function to pull user's address details from DB based on user's ID
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
=======
>>>>>>> parent of d0c237b... Created 'FormGroup' class
}